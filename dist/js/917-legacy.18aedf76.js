"use strict";(self["webpackChunksas_front"]=self["webpackChunksas_front"]||[]).push([[917],{6917:function(a,e,r){r.r(e),r.d(e,{default:function(){return k}});var t=function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("v-app",{attrs:{id:"carteira-vendedor"}},[r("v-main",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md10:""}},[r("h1",{staticClass:"text-center white--text"},[a._v("GESTÃO CARTEIRA VENDEDOR")]),r("div",{staticClass:"pt-5"},[r("v-row",[r("v-col",[r("v-card",{attrs:{color:"#415a77"}},[r("v-card-text",[r("span",{staticStyle:{color:"white","font-size":"18px"}},[a._v("CADASTRAR CARTEIRA/VENDEDOR")]),r("v-container",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return a.cadastrar_carteira(a.carteira)}},model:{value:a.validCadastro,callback:function(e){a.validCadastro=e},expression:"validCadastro"}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"24"}},[r("span",{staticStyle:{color:"white","font-size":"18px"}},[a._v("Usuário")]),r("v-text-field",{attrs:{label:"ID Usuário",rules:a.regra_usuario,"single-line":"",solo:"",required:"",dense:"","background-color":"#e0e1dd"},model:{value:a.carteira.id,callback:function(e){a.$set(a.carteira,"id",e)},expression:"carteira.id"}})],1)],1),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"24"}},[r("span",{staticStyle:{color:"white","font-size":"18px"}},[a._v("Empresa")]),r("v-text-field",{attrs:{label:"CNPJ Empresa",rules:a.regra_empresa,"single-line":"",solo:"",required:"",dense:"","background-color":"#e0e1dd"},model:{value:a.carteira.cnpj,callback:function(e){a.$set(a.carteira,"cnpj",e)},expression:"carteira.cnpj"}})],1)],1),r("v-row",[r("v-col"),r("v-col"),r("v-col",[r("v-btn",{staticClass:"white--text mr-4",attrs:{color:"#1b263b",type:"submit",disabled:!a.validCadastro}},[a._v(" Salvar ")])],1)],1)],1)],1)],1)],1)],1),r("v-col",[r("v-row",[r("v-col",[r("v-card",{attrs:{color:"#415a77"}},[r("v-card-text",[r("span",{staticStyle:{color:"white","font-size":"18px"}},[a._v("PESQUISAR CARTEIRA/VENDEDOR")]),r("v-container",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:a.pesquisar_carteira},model:{value:a.validPesquisa,callback:function(e){a.validPesquisa=e},expression:"validPesquisa"}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"24"}},[r("span",{staticStyle:{color:"white","font-size":"18px"}},[a._v("Usuário")]),r("v-text-field",{attrs:{label:"ID Usuário",rules:a.regra_usuario,"single-line":"",solo:"",required:"",dense:"","background-color":"#e0e1dd"},model:{value:a.carteira_usuario.id,callback:function(e){a.$set(a.carteira_usuario,"id",e)},expression:"carteira_usuario.id"}})],1)],1),r("v-row",[r("v-col"),r("v-col"),r("v-col",[r("v-btn",{staticClass:"white--text mr-4",attrs:{color:"#1b263b",type:"submit",disabled:!a.validPesquisa}},[a._v(" Pesquisar ")])],1)],1)],1)],1)],1)],1)],1)],1),r("v-row",[r("v-col",[r("v-card",{attrs:{color:"#415a77"}},[r("v-card-text",[r("span",{staticStyle:{color:"white","font-size":"18px"}},[a._v("DELETAR CARTEIRA/VENDEDOR")]),r("v-container",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:a.deletar_carteira},model:{value:a.validDeletar,callback:function(e){a.validDeletar=e},expression:"validDeletar"}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"24"}},[r("span",{staticStyle:{color:"white","font-size":"18px"}},[a._v("CNPJ")]),r("v-text-field",{attrs:{label:"CNPJ",rules:a.regra_cnpj,"single-line":"",solo:"",required:"",dense:"","background-color":"#e0e1dd"},model:{value:a.carteira_deletar.cnpj,callback:function(e){a.$set(a.carteira_deletar,"cnpj",e)},expression:"carteira_deletar.cnpj"}})],1)],1),r("v-row",[r("v-col"),r("v-col"),r("v-col",[r("v-btn",{staticClass:"white--text mr-4",attrs:{color:"#1b263b",type:"submit",disabled:!a.validDeletar}},[a._v(" Deletar ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),r("div",{staticClass:"pt-10"},[r("v-row",[r("v-col",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headersCarteiraVendedor,items:a.lista_de_carteira,"sort-by":"calories"},scopedSlots:a._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[a._v("CARTEIRA/VENDEDOR")])],1)]},proxy:!0}])})],1)],1)],1),r("div",{staticClass:"pt-10"},[r("v-row",[r("v-col",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headersUsuarios,items:a.lista_de_usuarios,"sort-by":"calories"},scopedSlots:a._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[a._v("USUÁRIOS")])],1)]},proxy:!0}])})],1),r("v-col",[r("div",[r("v-card",[r("v-simple-table",[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[a._v("CNPJ")])])]),r("tbody",a._l(a.lista_de_empresas,(function(e){return r("tr",{key:e.id},[r("td",[a._v(a._s(e))])])})),0)])],1)],1)])],1)],1)])],1)],1)],1)],1)},s=[],i=r(7121),o=r(336),l={listar_empresas:function(){return o.d.get("empresa/todas-empresas")}},c=r(6455),n=r.n(c),u={name:"carteira-vendedor",data:function(){return{regra_usuario:[function(a){return!!a||"O USUÁRIO é obrigatório"}],regra_empresa:[function(a){return!!a||"A EMPRESA é obrigatório"}],regra_cnpj:[function(a){return!!a||"O CNPJ é obrigatório"}],validCadastro:!0,validPesquisa:!0,validDeletar:!0,carteira:{id:"",cnpj:""},carteira_usuario:{id:""},carteira_deletar:{cnpj:""},lista_de_usuarios:[],lista_de_empresas:[],lista_de_carteira:[],lista_de_carteira_usuario:[],headersUsuarios:[{text:"ID",align:"start",value:"id"},{text:"Nome",value:"nome"},{text:"Email",value:"email"},{text:"Tipo acesso",value:"tipoAcesso"}],headersCarteiraVendedor:[{text:"CNPJ",align:"start",value:"cnpj"},{text:"Cidade",value:"cidade.descricao"},{text:"CNAE",value:"cnae.descricao"},{text:"Origem",value:"origem"},{text:"Vendedor",value:"usuario.nome"},{text:"Acesso",value:"usuario.tipoAcesso"},{text:"Data de cadastro",value:"dataDeCadastroVendedor"}]}},mounted:function(){this.exibir_usuario(),this.exibir_empresa()},methods:{cadastrar_carteira:function(){var a=this;i.Z.listar_carteira(this.carteira).then((function(e){a.lista_de_carteira_usuario=e.data.vendedor,console.log(a.lista_de_carteira_usuario.tipoAcesso),"VENDEDOR"===a.lista_de_carteira_usuario.tipoAcesso?i.Z.salvar_carteira(a.carteira).then((function(e){a.usuario={},n().fire("Sucesso","Carteira cadastrado com sucesso!!!","success"),a.exibir_usuario()})).catch((function(a){n().fire("Oops...","Erro ao cadastrar a carteira! - Erro: "+a.response.data.error,"error")})):n().fire("Oops...","O usuário informado não é um VENDEDOR!","error")}))},exibir_usuario:function(){var a=this;i.Z.listar_usuarios().then((function(e){a.lista_de_usuarios=e.data})).catch((function(a){n().fire("Oops...","Erro ao carregar a tabela de usuários! - Erro: "+a.response.data.error,"error")}))},exibir_empresa:function(){var a=this;l.listar_empresas().then((function(e){a.lista_de_empresas=e.data})).catch((function(a){n().fire("Oops...","Erro ao carregar a tabela de empresas! - Erro: "+a.response.data.error,"error")}))},pesquisar_carteira:function(){var a=this;i.Z.listar_carteira(this.carteira_usuario).then((function(e){a.lista_de_carteira=e.data.clientes,console.log(a.lista_de_carteira),n().fire("Sucesso","Usuário pesquisado com sucesso!","success")})).catch((function(a){n().fire("Oops...","Erro ao carregar a tabela de empresas! - Erro: "+a.response.data.error,"error")}))},deletar_carteira:function(){i.Z.excluir_carteira(this.carteira_deletar).then((function(a){n().fire("Sucesso","CNPJ excluido com sucesso!!!","success")})).catch((function(a){n().fire("Oops...","Erro ao exluir o CNPJ! - Erro: "+a.response.data.error,"error")}))},validate:function(){this.$refs.form.validate()}}},d=u,v=r(1001),_=r(3453),f=r.n(_),p=r(7524),m=r(680),b=r(3237),x=r(7118),h=r(2102),C=r(4228),E=r(9292),g=r(5972),y=r(6232),D=r(4470),V=r(7877),w=r(2877),R=r(3568),A=r(5978),S=r(6656),Z=r(7921),O=(0,v.Z)(d,t,s,!1,null,null,null),k=O.exports;f()(O,{VApp:p.Z,VBtn:m.Z,VCard:b.Z,VCardText:x.ZB,VCol:h.Z,VContainer:C.Z,VDataTable:E.Z,VFlex:g.Z,VForm:y.Z,VLayout:D.Z,VMain:V.Z,VRow:w.Z,VSimpleTable:R.Z,VTextField:A.Z,VToolbar:S.Z,VToolbarTitle:Z.qW})}}]);
//# sourceMappingURL=917-legacy.18aedf76.js.map